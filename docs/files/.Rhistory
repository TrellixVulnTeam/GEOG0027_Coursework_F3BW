library(readr)
Guangdong_Yearbook_2019 <- read_csv("Data/GEOG0027_Coursework/docs/files/Guangdong-Yearbook-2019.csv")
View(Guangdong_Yearbook_2019)
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
setwd("~/Data/GEOG0027_Coursework/docs/files")
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
#
# test for this file
test = "Guangdong-Yearbook-2019.csv"
# somewhere else it might be
# if its not here
# (put something appropriate!!)
sub = 'files'
if (test %in% list.files('.','*.csv')){
print(paste('found',test))
}else if (test %in% list.files(sub,'*.csv')){
print(paste('found',test,'in',sub))
setwd(sub)
print('I have moved to:')
print(getwd())
}
# The name of the file with year, urban_land and possibly agr_land
result_file <- 'results-2019.csv'
# the name of the supplied data file with Guandong stats
stats_file  <- "Guangdong-Yearbook-2019.csv"
# load library
library(readr)
# read the datasets
Guangdong_Yearbook_2019 <- read_csv(stats_file)
input                   <- read_csv(result_file)
# fix the input dataset in case arg_land doesnt exist
if('agr_land' %in% names(input)){
print(paste('using agricultural land data from',results))
}else{
# If no ag land variable, insert one
print('inserting synthetic agricultural land data')
input$agr_land = 2 * max(input$urban_land) - input$urban_land
}
# The years in Guangdong_Yearbook_2019$year and
# input$year need to match
# so we force this with the match function in R
overlap <- match(Guangdong_Yearbook_2019$year,input$year,nomatch=0)
input <- input[overlap,]
Guangdong_Yearbook_2019 <- Guangdong_Yearbook_2019[overlap,]
# print the datasets to visualise and check it looks ok
print(input)
print(Guangdong_Yearbook_2019)
X = data.frame(year=Guangdong_Yearbook_2019$year,
x1=Guangdong_Yearbook_2019$investment/Guangdong_Yearbook_2019$population,
x2=Guangdong_Yearbook_2019$agr_output/Guangdong_Yearbook_2019$agr_pop,
x3=log(Guangdong_Yearbook_2019$private_wage),
x4=log(Guangdong_Yearbook_2019$avg_wage),
x5=(Guangdong_Yearbook_2019$agr_output/input$agr_land)/
(Guangdong_Yearbook_2019$indust_output/input$urban_land))
# Calculate the delta in year for observation data
# This will mostly be 1, but could be more
# if you have missing years
dy <- diff(input$year,differences = 1)
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
source('~/Data/GEOG0027_Coursework/docs/files/UrbanModelData.R')
